############################
# KEYBOARD SHORTCUTS
############################
binds {
  allow_workspace_cycles = true # used for alt tab binds
}

# LEGEND
$SUPERMAN = CTRL_SUPER
$ZX_VIEW = SHIFT_CTRL
$CAL = CTRL_ALT
$SUP_SHIFT = SHIFT_SUPER

# MOUSE MOVE
bindm = SUPER, mouse:272, movewindow
bind = ALT, F, togglefloating
bind = ALT, F, pin

# SYSTEM KEYS
bind = $SUPERMAN, left, togglespecialworkspace, ref
bind = $SUPERMAN, right, togglespecialworkspace, term

bind = ALT_SUPER, q, exec, hyprctl dispatch exit
bind = ALT_SUPER, h, movetoworkspace, 1
bind = ALT_SUPER, r, movetoworkspace, special:ref
bind = ALT_SUPER, t, movetoworkspace, special:term

bind = SUPER, down, movewindow, d
bind = SUPER, up, movewindow, u
bind = SUPER, left, movewindow, l
bind = SUPER, right, movewindow, r

bind = SUPER, t, exec, foot # terminal
bind = SUPER, d, exec, xournalpp # terminal
bind = SUPER, b, exec, zen-browser # browse

# bind = SUPER, tab, exec, ~/.config/hypr/toggle_monitors.sh 1
# bind = $CAL, b, exec, pkill waybar || waybar # bar

# window specific bindings
bind = $CAL, v, exec, cliphist list | head -n 1 | cliphist delete; cliphist list | head -n 1 | cliphist decode | wl-copy; notify-send "Clipboard popped and updated"
bind = ALT, tab, cyclenext, bringactivetotop
bind = ,F11, fullscreen, 1 # Maximize
bind = ALT, F4, closewindow, activewindow
bind = SUPER, v, exec, pkill rofi || cliphist list | rofi -dmenu +display-columns 2 | cliphist decode | wl-copy
bind = SUPER, semicolon, exec, pkill rofi || rofimoji -a clipboard copy -s light
bind = SUPER, s, exec, pkill rofi || rofi -show drun | xargs hyprctl dispatch exec

# VIEWS
bind = $CAL, n, exec, pkill hyprsunset || hyprsunset -t 2200
bind = $CAL, s, exec, pkill pavucontrol || pavucontrol # sound
bind = $CAL, m, exec, pkill rofi || cliphist list | rofi -show calc -modi calc -no-show-match -no-sort -terse | tr -d '\n' | wl-copy

# SCREENSHOT
bind = $SUP_SHIFT, S, exec, hyprshot -m region -o /tmp/screenshots --freeze
bind = $SUP_SHIFT, R, exec, hyprshot -m region --freeze -o ~/Media/screenshots/
bind = $SUP_SHIFT, O, exec, sh -c 'filename="/tmp/screenshots/ocr.png"; hyprshot -m region -o "$(dirname "$filename")" -f "$(basename "$filename")" --clipboard=false; tesseract "$filename" stdout -l eng --psm 6 | wl-copy'

########################
# AUTOSTART
#########################
# AUTOSTART TMUX AND ATTACH TO LAST SESSION
exec-once = [workspace 1] zen-browser
exec-once = [workspace special:term silent] foot sh -c "\
tmux start-server; \
tmux new-session -d -s ðŸŽ¯; \
tmux run-shell ~/.tmux/plugins/tmux-resurrect/scripts/restore.sh; \
tmux kill-session -t 0 2>/dev/null || true; \
tmux attach -t ðŸŽ¯"
exec-once = mako & # notification daemon
# exec-once = [workspace special:ref silent] xournalpp

# CLIPBOARD
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type text --watch cliphist store && cliphist list | head -n 1 | cliphist decode | wl-copy
exec-once = wl-paste --type image --watch cliphist store #Stores only image data

# TABLET
# exec-once = otd-daemon # activate tablet
input {
  tablet {
    relative_input = true
    output = current
  }
}

############################
# GENERAL SETUP
############################
monitor=HDMI-A-1,1920x1080@60.00Hz,auto,1,transform,0 # Landscape
workspace = 1, monitor:HDMI-A-1, rounding:false

bind = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 10%+ && tmux refresh-client -S
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 10%- && tmux refresh-client -S
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle && tmux refresh-client -S

# PIP
windowrule = match:class ^(zen)$, match:title ^(Picture-in-Picture)$, opacity 0.1, float 1, pin 1, size 600 350, move 1350 750

# VISUAL
############################
windowrule = rounding 25, border_size 4, match:fullscreen 1

general {
  gaps_out = 0
  border_size = 1
  col.active_border = rgba(11ffaaee)
  resize_on_border =  true
  hover_icon_on_border = true
}

decoration {
  blur {
    enabled = false
  }
}

animations {
  enabled = false
}

misc {
  vfr = true
  disable_hyprland_logo = true
  on_focus_under_fullscreen = 1
  disable_splash_rendering = true
  focus_on_activate = true
}
