############################
# KEYBOARD SHORTCUTS
############################
binds {
  allow_workspace_cycles = true # used for alt tab binds
}

# LEGEND
$SUPERMAN = CTRL_SUPER # also valley
$ZX_VIEW = SHIFT_CTRL
$CAL = CTRL_ALT
$SUP_SHIFT = SHIFT_SUPER

# MOUSE MOVE
bindm = SUPER, mouse:272, movewindow

# PIP RESIZE
bind = ALT_SUPER, V,  movewindowpixel, exact -3000 -3000,
bind = ALT_SUPER, B,  movewindowpixel, exact 62% 30,

# SYSTEM KEYS
bind = $SUPERMAN, left, togglespecialworkspace, reference
bind = $SUPERMAN, right, togglespecialworkspace, terminal

bind = ALT_SUPER, q, exec, hyprctl dispatch exit
bind = ALT_SUPER, r, movetoworkspace, special:reference
bind = ALT_SUPER, t, movetoworkspace, special:terminal

bind = SUPER, down, movewindow, d
bind = SUPER, up, movewindow, u
bind = SUPER, left, movewindow, l
bind = SUPER, right, movewindow, r

bind = SUPER, tab, exec, ~/.config/hypr/toggle_monitors.sh 1
bind = SUPER, e, exec, ~/.config/hypr/toggle_monitors.sh 2

bind = SUPER, t, exec, foot # terminal
bind = SUPER, b, exec, zen-browser # browse
bind = $CAL, v, exec, cliphist list | head -n 1 | cliphist delete; cliphist list | head -n 1 | cliphist decode | wl-copy; notify-send "Clipboard popped and updated"

# window specific bindings
bind = ALT, tab, cyclenext, bringactivetotop
bind = ,F11, fullscreen, 1 # Maximize
bind = ALT, F4, closewindow, activewindow
bind = SUPER, v, exec, pkill rofi || cliphist list | rofi -dmenu +display-columns 2 | cliphist decode | wl-copy
bind = SUPER, semicolon, exec, pkill rofi || rofimoji -a clipboard copy print -s light
bind = SUPER, s, exec, pkill rofi || rofi -show drun | xargs hyprctl dispatch exec

# VIEWS
bind = $CAL, b, exec, pkill waybar || waybar # bar
bind = $CAL, n, exec, hyprshade toggle blue-light-filter # nightshade
bind = $CAL, s, exec, pkill pavucontrol || pavucontrol # sound
bind = $CAL, m, exec, pkill rofi || cliphist list | rofi -show calc -modi calc -no-show-match -no-sort -terse | tr -d '\n' | wl-copy

# SCREENSHOT
bind = $SUP_SHIFT, S, exec, hyprshot -m region -o /tmp/screenshots --freeze
bind = $SUP_SHIFT, R, exec, hyprshot -m region --freeze -o ~/Media/screenshots/
bind = $SUP_SHIFT, R, exec, hyprshot -m region --freeze -o ~/Media/screenshots/
bind = $SUP_SHIFT, O, exec, sh -c 'filename="/tmp/screenshots/ocr.png"; hyprshot -m region -o "$(dirname "$filename")" -f "$(basename "$filename")" --clipboard=false; tesseract "$filename" stdout -l eng --psm 6 | wl-copy'

########################
# AUTOSTART
#########################
# WORKSPACE SETUP
exec-once = [workspace special:terminal silent] foot tmux a
exec-once = [workspace special:reference silent] xournalpp
exec-once = [workspace 1 silent] zen-browser
exec-once = [workspace 2 silent] zen-browser
exec-once = hyprctl dispatch workspace 1 # focus on wksp 1
exec-once = nm-applet --indicator #shows wifi icon on waybar

# CLIPBOARD
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type text --watch cliphist store && cliphist list | head -n 1 | cliphist decode | wl-copy
exec-once = wl-paste --type image --watch cliphist store #Stores only image data

# TABLET OTD
exec-once = otd-daemon # activate tablet

# relative input not working. got it working with otd
input {
  tablet {
    relative_input = true
    output = current
  }
}

############################
# GENERAL SETUP
############################
monitor=HDMI-A-1,1920x1080@60.00Hz,auto,1,transform,0 # Landscape
monitor=DP-3,1920x1080@60.00Hz,auto,1,transform,3 # Portrait
monitor=DP-1,1920x1080@60.00Hz,auto,1,transform,0 # Tertiary

workspace = 1, monitor:HDMI-A-1, rounding:false
workspace = 2, monitor:DP-3, rounding:false
workspace = 3, monitor:DP-1, rounding:false

#SCRATCHPAD: SPECIAL WORKSPACE
workspace=special:terminal, border:true, bordersize:2,
workspace=special:reference, border:true, bordersize:2,

windowrulev2 = opacity 0.98, onworkspace:s[1] # 1 = boolean true
windowrulev2 = bordercolor rgb(EEDD00) rgba(F0F0F075), onworkspace:special:terminal
windowrulev2 = bordercolor rgb(00FFFF) rgba(F0F0F075), onworkspace:special:reference
windowrulev2 = workspace special:reference, class:^(com.obsproject.Studio)$

# AUDIO
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle

# PIP FLOAT + PIN
windowrulev2 = float, class:^(zen)$, title:^(Picture-in-Picture)$
windowrulev2 = pin, class:^(zen)$, title:^(Picture-in-Picture)$
windowrulev2 = size 680 385, class:^(zen)$, title:^(Picture-in-Picture)$
windowrulev2 = move 0 30, class:^(zen)$, title:^(Picture-in-Picture)$

############################
# VISUAL
############################
windowrulev2 = bordercolor rgb(2288FF),fullscreen:1 # change border color when full screen

general {
  gaps_out = 0
  border_size = 6
  col.active_border = rgba(11ffaaee)
  resize_on_border =  true
  hover_icon_on_border = true
}

misc:vfr = true

decoration {
  blur {
    enabled = false
  }
}

animations {
  enabled = false
}

misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  focus_on_activate = true
}

############################
# DOCUMENTATION
############################
# Toggle Scratchpad: https://wiki.hyprland.org/Configuring/Uncommon-tips--tricks/
# Scratchpad Terminal on login https://www.reddit.com/r/hyprland/comments/13nq27g/namedRscratchpads_and_launching_applications_in_a

############################
# DEPRECATED
############################
# had to use switch monitors instead because of special terminal(s) disappearing when toggling between workspaces
# bind = SUPER, tab, workspace, 1
# bind = SUPER, space, workspace, 2
# bind = SUPER, mouse:272, workspace, 2
# bind = SUPER, tab, focusmonitor, HDMI-A-1
# bind = SUPER, space, focusmonitor, DP-3
# bind = SUPER, mouse:272, focusmonitor, DP-3
# bind = SUPER, tab, workspace,previous
# bind = $SUPERMAN, tab, togglespecialworkspace, reference
# bind = $SUPERMAN, backspace, togglespecialworkspace, terminal

# VARIABLES FOR tmux cxn
# env = XDG_CURRENT_DESKTOP,Hyprland
# env = XDG_SESSION_TYPE,wayland
# env = XDG_SESSION_DESKTOP,Hyprland
